<?xml version="1.0"?>
<robot name="linear_guide" xmlns:xacro="http://ros.org/wiki/xacro">

  <!-- Vertical column -->
  <link name="column">
    <visual>
      <geometry>
        <box size="0.1 0.1 1.0"/> <!-- 10cm x 10cm, 1m tall -->
      </geometry>
      <origin xyz="0 0 0.5" rpy="0 0 0"/> <!-- column rests on ground -->
      <material name="grey">
        <color rgba="0.5 0.5 0.5 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <box size="0.1 0.1 1.0"/>
      </geometry>
      <origin xyz="0 0 0.5" rpy="0 0 0"/>
    </collision>
    <inertial>
      <mass value="5.0"/>
      <inertia ixx="0.1" iyy="0.1" izz="0.1" ixy="0.0" ixz="0.0" iyz="0.0"/>
    </inertial>
  </link>

  <!-- Slider/Base (larger, sits at bottom) -->
  <link name="slider">
    <visual>
      <geometry>
        <box size="0.6 0.6 0.1"/> <!-- 40cm x 40cm, 10cm thick -->
      </geometry>
      <origin xyz="0 -0.25 0.05" rpy="0 0 0"/> <!-- sits on ground -->
      <material name="blue">
        <color rgba="0.1 0.1 0.8 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <box size="0.6 0.6 0.1"/>
      </geometry>
      <origin xyz="0 0 0.05" rpy="0 0 0"/>
    </collision>
    <inertial>
      <mass value="2.0"/>
      <inertia ixx="0.1" iyy="0.1" izz="0.1" ixy="0.0" ixz="0.0" iyz="0.0"/>
    </inertial>
  </link>

  <!-- Prismatic Joint (slider moves up along Z from ground) -->
  <joint name="slider_joint" type="prismatic">
    <parent link="column"/>
    <child link="slider"/>
    <origin xyz="0 0 0" rpy="0 0 0"/> <!-- start at bottom -->
    <axis xyz="0 0 1"/> <!-- move along Z-axis -->
    <limit lower="0.0" upper="0.9" effort="200" velocity="0.3"/>
  </joint>
<!-- 

  <gazebo>
  <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so"/>
</gazebo>

<gazebo reference="slider_joint">
  <plugin name="slider_joint_position_controller" filename="libgazebo_ros_joint_position_controller.so">
    <joint>slider_joint</joint>
    <topic>slider_joint_position_controller/command</topic>
    <pid>
      <p>100.0</p>
      <i>0.01</i>
      <d>10.0</d>
    </pid>
  </plugin>
</gazebo>
 -->

</robot>
